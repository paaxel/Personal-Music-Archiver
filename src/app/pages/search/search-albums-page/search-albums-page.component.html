<div class="search-albums-page-container">
  <!-- Breadcrumb Navigation -->
  <div class="breadcrumb">
    <span class="breadcrumb-item" (click)="backToArtists()">{{ 'search.title' | translate }}</span>
    <span class="breadcrumb-separator">â€º</span>
    <span class="breadcrumb-item active">{{ artist?.name }}</span>
  </div>

  <!-- Albums Section -->
  <div class="albums-section">
    <div class="section-header">
      <h2>{{ 'search.albumsBy' | translate }} {{ artist?.name }}</h2>
      <button class="sort-button" (click)="toggleSort()" *ngIf="artistAlbums.length > 0">
        <span *ngIf="searchAlbumsService.sortDescending">â†“ {{ 'search.newestFirst' | translate }}</span>
        <span *ngIf="!searchAlbumsService.sortDescending">â†‘ {{ 'search.oldestFirst' | translate }}</span>
      </button>
    </div>

    <div *ngIf="artistAlbums.length === 0" class="empty-state">
      <p>{{ 'search.noAlbums' | translate }}</p>
    </div>

    <div *ngIf="artistAlbums.length > 0" class="albums-grid">
      <div 
        *ngFor="let album of artistAlbums" 
        class="album-card"
        [class.added]="isAlbumAdded(album.id)"
        (click)="onAlbumClick(album)"
      >
        <div class="album-placeholder">
          <span class="album-icon">ðŸ’¿</span>
        </div>
        <div class="album-info">
          <h3 class="album-title">{{ album.title }}</h3>
          <p class="album-year">{{ getReleaseYear(album) }}</p>
          
          <button
            class="archive-btn"
            [class.archiving]="isAlbumArchiving(album.id)"
            [class.added]="isAlbumAdded(album.id)"
            (click)="onArchiveAlbum(album, $event)"
            [disabled]="isAlbumArchiving(album.id) || isAlbumAdded(album.id)"
          >
            <span *ngIf="!isAlbumArchiving(album.id) && !isAlbumAdded(album.id)">â¬‡ {{ 'search.archiveCard' | translate }}</span>
            <span *ngIf="isAlbumArchiving(album.id)">
              <span class="download-spinner"></span>
              {{ 'search.archivingCard' | translate }}
            </span>
            <span *ngIf="isAlbumAdded(album.id)">âœ“ {{ 'search.albumAddedCard' | translate }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
